function validEmail(e){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(e)}function getFormData(){var n=document.getElementById("gform").elements,e=Object.keys(n).map(function(e){if(void 0!==n[e].name)return n[e].name}).filter(function(e,n,t){return t.indexOf(e)==n&&e}),t={};return e.forEach(function(e){t[e]=n[e].value,"checkbox"===n[e].type&&(t[e]=n[e].checked)}),console.log(t),t}function handleFormSubmit(e){e.preventDefault();var n=getFormData();if(n.empreendimento="Reserva Petrus",!n.email&&!n.phone)return document.getElementById("email-phone-none").style.display="block",!(document.getElementById("email-invalid").style.display="none");if(n.email&&!validEmail(n.email))return document.getElementById("email-phone-none").style.display="none",!(document.getElementById("email-invalid").style.display="block");console.log("To no terceiro log"),document.getElementById("gform").style.display="none",document.getElementById("sending").style.display="block";var t=e.target.action,o=new XMLHttpRequest;o.open("POST",t),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){console.log(o.status,o.statusText),console.log(o.responseText),document.getElementById("gform").style.display="none",document.getElementById("sending").style.display="none",document.getElementById("thankyou_message").style.display="block"};var l=Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&");o.send(l)}function loaded(){console.log("contact form submission handler loaded successfully"),document.getElementById("gform").addEventListener("submit",handleFormSubmit,!1)}document.addEventListener("DOMContentLoaded",loaded,!1);